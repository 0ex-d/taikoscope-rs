@import 'tailwindcss';

/* Design tokens (semantic) */
:root {
  --color-brand: #e81899;
  --bg: #f8fafc;
  --fg: #0f172a;
  --card: #ffffff;
  --card-fg: #0f172a;
  --border: #e2e8f0;
  --muted: #f1f5f9;
  --muted-fg: #64748b;
  --ring: var(--color-brand);
  /* Charts */
  --chart-tick: #666666;
  --chart-grid: #e0e0e0;
  --chart-tooltip-bg: rgba(255, 255, 255, 0.9);
  --chart-tooltip-label: #333333;
}

:root.dark {
  --bg: #0f172a;
  --fg: #f8fafc;
  --card: #1e293b;
  --card-fg: #f8fafc;
  --border: #334155;
  --muted: #1e293b;
  --muted-fg: #94a3b8;
  /* Charts */
  --chart-tick: #f8fafc;
  --chart-grid: rgba(148, 163, 184, 0.18);
  --chart-tooltip-bg: rgba(15, 23, 42, 0.95);
  --chart-tooltip-label: #ffffff;
}

/* Also honor system dark preference so variables match Tailwind v4 dark: media output */
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0f172a;
    --fg: #f8fafc;
    --card: #1e293b;
    --card-fg: #f8fafc;
    --border: #334155;
    --muted: #1e293b;
    --muted-fg: #94a3b8;
    --chart-tick: #f8fafc;
    --chart-grid: rgba(148, 163, 184, 0.18);
    --chart-tooltip-bg: rgba(15, 23, 42, 0.95);
    --chart-tooltip-label: #ffffff;
  }
}

/* Helpful defaults */
/* Ensure the page canvas matches theme and no UA margins leak through */
html {
  background-color: var(--bg);
}

body {
  background-color: var(--bg);
  color: var(--fg);
  margin: 0; /* prevent white frame from default UA margins */
}

/* Global link color: Taiko pink */
a,
a:visited {
  color: var(--color-brand);
}

button:hover {
  cursor: pointer;
}

button:disabled {
  cursor: not-allowed;
}

select:hover {
  cursor: pointer;
}

/* Remove default macOS black focus ring on native select; rely on custom ring */
select:focus {
  outline: none !important;
  box-shadow: none;
}

/* Ensure chart text is readable in dark mode */
:root.dark .recharts-layer text {
  fill: #ffffff;
}

/* Strengthen selectors to catch all chart text variants */
:root.dark .recharts-cartesian-axis text,
:root.dark .recharts-label,
:root.dark .recharts-text,
:root.dark .recharts-legend-item-text {
  fill: #ffffff !important;
  color: #ffffff !important;
}

:root.dark .recharts-label tspan {
  fill: #ffffff !important;
}

/* Tooltip readability in dark mode */
:root.dark .recharts-default-tooltip {
  color: #ffffff;
  background-color: rgba(15, 23, 42, 0.9);
  border-color: #334155;
}

/* Tooltip label and items */
:root.dark .recharts-tooltip-label,
:root.dark .recharts-tooltip-item-list,
:root.dark .recharts-tooltip-item {
  color: #ffffff !important;
}

/* Dark mode axis and grid contrast tuning */
:root.dark .recharts-cartesian-axis text {
  fill: #f8fafc !important; /* brightest ticks */
  font-weight: 600;
  font-size: 13px;
  letter-spacing: 0.2px;
}

:root.dark .recharts-cartesian-axis .recharts-cartesian-axis-line,
:root.dark .recharts-cartesian-axis .recharts-cartesian-axis-tick-line,
:root.dark .recharts-cartesian-axis line {
  stroke: #94a3b8 !important; /* light slate for axis lines */
  stroke-opacity: 0.7;
}

:root.dark .recharts-cartesian-grid line {
  stroke: rgba(148, 163, 184, 0.18) !important; /* subtler grid */
  stroke-width: 1;
  shape-rendering: crispEdges;
  stroke-dasharray: 2 6 !important;
}

:root.dark .recharts-label text,
:root.dark .recharts-label tspan {
  fill: #f8fafc !important;
  font-weight: 600;
  font-size: 12px;
  letter-spacing: 0.2px;
}

:root.dark .recharts-legend-item-text {
  color: #f8fafc !important;
}

/* Make lines a bit thicker in dark to improve contrast */
:root.dark .recharts-line .recharts-line-curve {
  stroke-width: 2.5 !important;
}

/* Bump common series colors for better dark contrast */
:root.dark .recharts-line-curve[stroke="#8884d8"] {
  stroke: #a5b4fc !important; /* indigo-300 */
}
:root.dark .recharts-line-curve[stroke="#4E79A7"] {
  stroke: #93c5fd !important; /* blue-300 */
}
:root.dark .recharts-line-curve[stroke="#E573B5"] {
  stroke: #f9a8d4 !important; /* pink-300 */
}

/* Force dark tooltip even if inline styles are set */
:root.dark .recharts-default-tooltip {
  background-color: rgba(15, 23, 42, 0.95) !important;
  border-color: #475569 !important;
  color: #ffffff !important;
}

/* Extra safety: force tick text variants to pure white */
:root.dark .recharts-cartesian-axis-tick text,
:root.dark .recharts-cartesian-axis-tick-value,
:root.dark .recharts-cartesian-axis-tick-value tspan,
:root.dark .recharts-text tspan {
  fill: #ffffff !important;
  color: #ffffff !important;
}
